---
- name: This is practice session
  hosts: webservers
  become: yes
  gather_facts: true
  vars:
   ubuntu: apache2
   redhat: httpd
  tasks:
  - block:
    - name: install apache2
      apt:
        name: "{{ubuntu}}"
        state: present
    
    - name: copy the index into apache2
      template:
        src: index.j2
        dest: /var/www/html/index.html
    
    - name: start the apache2
      service:
        name: "{{ubuntu}}" 
        state: started
        enabled: yes 
    when: ansible_os_family =="Debian"
    ignore_errors: yes        
